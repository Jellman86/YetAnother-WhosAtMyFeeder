name: YetAnother-WhosAtMyFeeder-Dev
#-----------------------------------------------
# Yet Another WhosAtMyFeeder - Development Environment
#
# This docker-compose file uses the 'dev' tagged images from GHCR
# Built automatically from the 'dev' branch via GitHub Actions
#
# Usage: docker compose -f docker-compose.dev.yml up -d
#-----------------------------------------------
services:
  yawamf-backend:
    image: ghcr.io/jellman86/wamf-backend:dev
    container_name: yawamf-backend-dev
    restart: unless-stopped
    user: "${PUID:-1000}:${PGID:-1000}"
    networks:
      - yawamf_network
    volumes:
      - ./config:/config        # Configuration files (config.json)
      - ./data:/data            # Persistent data (database, models)
    ports:
      - "8946:8000"
    environment:
      - TZ=${TZ:-UTC}
      - PUID=${PUID:-1000}
      - PGID=${PGID:-1000}
      - FRIGATE__FRIGATE_URL=${FRIGATE_URL:-http://frigate:5000}
--
  yawamf-frontend:
    image: ghcr.io/jellman86/wamf-frontend:dev
    container_name: yawamf-frontend-dev
    restart: unless-stopped
    user: "${PUID:-1000}:${PGID:-1000}"
    networks:
      - yawamf_network
    ports:

networks:
  yawamf_network:
    name: ${DOCKER_NETWORK:-yawamf_default}
    external: true
